{
    "componentChunkName": "component---src-templates-blog-post-js",
    "path": "/DevOps/GA/",
    "result": {"data":{"site":{"siteMetadata":{"title":"🏃🏻UndefinedP.log","author":"UndefinedP","siteUrl":"https://undefinedp.github.io","comment":{"disqusShortName":"","utterances":"undefinedP/undefinedp.github.io"},"sponsor":{"buyMeACoffeeId":""}}},"markdownRemark":{"id":"ffd0180e-2c87-599f-98ef-b4ec78d56612","excerpt":"GitHub Actions 블로그를 새로 파서 글을 작성을 하면서 아주 치명적으로 귀찮은 문제가 하나 생겼다. 바로\n!! 포스팅을 하나 쓸 때마다 일일히 배포를 하는 스크립트를 치는 것이 너무 귀찮았던 나는 자동화의 간절함을 느낀다. 구글에서 열심히 서치를 한 결과 와 이라는 툴을 발견했고 … 그러다가 결국 라는 방법을 채택하기로 결심을 하는데 …더보기 잠깐만 그런데 CI/CD가 뭔데? CI/CD는 어플리케이션 개발 단계를 시켜서 짧은 주기로 고객에게 제공을 할 수 있게끔 하는 방법이다. CI…","html":"<p><img src=\"https://media.vlpt.us/images/lingodingo/post/6faf3011-da9b-431b-980a-7324f1ffbc11/android-github-actions-setup-image-35b6a79fea4a7289acb6796cd4ad05b4.png\" alt=\"GitHub Actions\"></p>\n<p>블로그를 새로 파서 글을 작성을 하면서 아주 치명적으로 귀찮은 문제가 하나 생겼다. 바로\n<code class=\"language-text\">deploy</code>!! 포스팅을 하나 쓸 때마다 일일히 배포를 하는 스크립트를 치는 것이 너무 귀찮았던 나는 자동화의 간절함을 느낀다. 구글에서 열심히 서치를 한 결과 <code class=\"language-text\">Jenkins</code>와 <code class=\"language-text\">GitHub Actions</code>이라는 툴을 발견했고 … 그러다가 결국 <code class=\"language-text\">GitHub Actions</code>라는 방법을 채택하기로 결심을 하는데 …더보기</p>\n<h2 id=\"잠깐만-그런데-cicd가-뭔데\" style=\"position:relative;\"><a href=\"#%EC%9E%A0%EA%B9%90%EB%A7%8C-%EA%B7%B8%EB%9F%B0%EB%8D%B0-cicd%EA%B0%80-%EB%AD%94%EB%8D%B0\" aria-label=\"잠깐만 그런데 cicd가 뭔데 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>잠깐만 그런데 CI/CD가 뭔데?</h2>\n<p>CI/CD는 어플리케이션 개발 단계를 <code class=\"language-text\">자동화</code>시켜서 짧은 주기로 고객에게 제공을 할 수 있게끔 하는 방법이다.</p>\n<p>CI : Continuous Integration(지속적 통합)</p>\n<p>CD : Continuous Delivery(지속적 제공)/ Continuous Deployment(지속적 배포)</p>\n<p>의 줄임말이지만…무슨 말인지 모르겠다 더 알아보자</p>\n<h3 id=\"ci란\" style=\"position:relative;\"><a href=\"#ci%EB%9E%80\" aria-label=\"ci란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>CI란?</strong></h3>\n<p>한 줄로 요약하면 <strong>통합을 위한 단계(빌드, 테스트, 머지)를 자동화하는 것</strong>이다</p>\n<p>CI를 성공적으로 적용한다면 애플리케이션에 대한 새로운 코드 변경 사항이 정기적으로 빌드 및 테스트되서 공유 레파지토리에 통합이 된다. 여러 명의 개발자가 동시에 어플리케이션 개발과 관련된 코드 작업을 할 경우에 충돌하는 문제를 해결할 수 있다.</p>\n<h3 id=\"ci의-장점\" style=\"position:relative;\"><a href=\"#ci%EC%9D%98-%EC%9E%A5%EC%A0%90\" aria-label=\"ci의 장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CI의 장점</h3>\n<ul>\n<li>개발의 편의성이 증가\n<ul>\n<li>디버깅이 쉬워지기 때문</li>\n</ul>\n</li>\n<li>변경된 코드에 대한 즉각적 피드백과 검증 가능</li>\n<li>좋은 코드 퀄리티 유지 가능\n<ul>\n<li>테스트를 통과하는 코드만 공유 레포지터리에 올라갈 수 있기 때문</li>\n</ul>\n</li>\n<li>소스코드의 통합과 검증에 들어가는 시간이 단축된다</li>\n</ul>\n<h3 id=\"cd란\" style=\"position:relative;\"><a href=\"#cd%EB%9E%80\" aria-label=\"cd란 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a><strong>CD란?</strong></h3>\n<p><img src=\"https://blog.kakaocdn.net/dn/eeSLmu/btqI9pXqCN8/iIopSPh3KSK1SwhRjkWPf1/img.png\" alt=\"제공과 배포의 차이\"></p>\n<p><strong>지속적 제공</strong></p>\n<ul>\n<li>CI를 거친 이후에 배포를 할 준비를 하고, 이 과정에서 배포가 될 것이 아무런 문제가 없는지 개발자/검증 팀이 검증을 한 뒤에 <em>수동으로</em> 배포를 한다</li>\n</ul>\n<p><strong>지속적 배포</strong></p>\n<ul>\n<li>배포를 할 준비가 되었다면 자동적으로 사용자에게까지 배포가 될 수 있도록 자동화를 시킬 수 있고, 그 일련의 과정을 <strong>지속적 배포</strong>라고 말한다</li>\n</ul>\n<h3 id=\"cd의-장점\" style=\"position:relative;\"><a href=\"#cd%EC%9D%98-%EC%9E%A5%EC%A0%90\" aria-label=\"cd의 장점 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CD의 장점</h3>\n<ul>\n<li>개발부터 배포까지 과정이 번거롭지 않고 간소화되기 때문에 사용자 피드백을 빠르게 반영할 수 있다\n<ul>\n<li>즉, <strong>장애 대응이 빨라진다</strong></li>\n</ul>\n</li>\n</ul>\n<h3 id=\"cicd의-흐름\" style=\"position:relative;\"><a href=\"#cicd%EC%9D%98-%ED%9D%90%EB%A6%84\" aria-label=\"cicd의 흐름 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>CI/CD의 흐름</h3>\n<ul>\n<li>\n<p>CI</p>\n<ol>\n<li>개발자는 자신이 개발한 소프트웨어의 소스코드를 공통된 버전 관리 시스템(ex.GitHub)에 저장한다.</li>\n<li>소스코드상에서 변동이 생기면 버전 관리 시스템에서는 CI 툴로 코드의 변경을 알린다</li>\n<li>CI툴에서는 변경된 코드를 빌드, 테스트, 머지를 한다.</li>\n</ol>\n</li>\n<li>\n<p>CD</p>\n<ol>\n<li>CI를 통해 소스코드를 검증한다</li>\n<li>검증된 소프트웨어를 실제 프로덕션 환경으로 배포한다.</li>\n</ol>\n</li>\n</ul>\n<h2 id=\"github-actions\" style=\"position:relative;\"><a href=\"#github-actions\" aria-label=\"github actions permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>¿¿GitHub Actions??</h2>\n<ul>\n<li>\n<p>GitHub에서 제공하는 워크플로우를 자동화하도록 도와주는 도구이다.</p>\n</li>\n<li>\n<p>Github에서 여러가지 workflow 템플릿을 추천해주는데, 이걸 사용함으로서 테스트/빌드/배포 등 다양한 작업들을 자동화하여 뚝딱 처리할 수 있다.</p>\n</li>\n</ul>\n<h3 id=\"github-actions을-선택한-이유\" style=\"position:relative;\"><a href=\"#github-actions%EC%9D%84-%EC%84%A0%ED%83%9D%ED%95%9C-%EC%9D%B4%EC%9C%A0\" aria-label=\"github actions을 선택한 이유 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GitHub Actions을 선택한 이유</h3>\n<ol>\n<li>Jenkins처럼 설치 후 따로 서버를 팔 필요가 없다</li>\n<li>기왕이면 GitHub 하나로 자동화를 관리하는 것이 편하다고 판단했다.</li>\n</ol>\n<h2 id=\"github-actions의-구성\" style=\"position:relative;\"><a href=\"#github-actions%EC%9D%98-%EA%B5%AC%EC%84%B1\" aria-label=\"github actions의 구성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>GitHub Actions의 구성</h2>\n<p><strong>Workflow(워크 플로우)</strong></p>\n<ul>\n<li>저장소에 추가하는 자동화된 프로세스. 하나 이상의 <code class=\"language-text\">job</code>으로 이루어져 있으며, 이벤트에 의해 실행된다.</li>\n<li>Workflow 파일은 <code class=\"language-text\">YAML</code>으로 작성되고, <code class=\"language-text\">.github/workflows</code>폴더 아래에 저장된다.</li>\n</ul>\n<p><strong>Event(이벤트)</strong></p>\n<ul>\n<li>워크 플로우를 실행하는 특정 활동이나 규칙.</li>\n<li>커밋의 push/pull request가 생성되었을 때 뿐만 아니라, GitHub 외부에서 발생하는 활동으로도 이벤트를 발생시킬 수도 있다.</li>\n</ul>\n<p>ex)</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># push나 PR이 발생할 때 워크플로우 실행</span>\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span> <span class=\"token punctuation\">[</span>push<span class=\"token punctuation\">,</span> pull_request<span class=\"token punctuation\">]</span></code></pre></div>\n<p>게다가 cron 문법으로 <code class=\"language-text\">schedule</code> 이벤트를 설정할 수 있다!</p>\n<p>ex)</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># 월-금 오전 9시</span>\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">schedule</span><span class=\"token punctuation\">:</span>\n    <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">cron</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'0 9 * * 1-5'</span></code></pre></div>\n<p><strong>Job(작업)</strong></p>\n<ul>\n<li>워크플로우의 기본 단위. 여러 Step으로 구성되어 있다.</li>\n<li>기본적으로는 여러 작업을 병렬적으로 실행하지만, 순차적으로 실행하도록 설정할 수도 있다.</li>\n</ul>\n<p><strong>Step(스텝)</strong></p>\n<ul>\n<li>Job안에서 순차적으로 실행되는 프로세스의 단위. 여기서 명령을 내리거나, action을 실행할 수 있다.</li>\n<li>한 job의 각 스텝들은 동일한 러너에서 실행되기 때문에, 해당 작업의 액션들은 서로 데이터를 공유하게 된다.</li>\n</ul>\n<p><strong>Runner(러너)</strong></p>\n<ul>\n<li><code class=\"language-text\">GitHub Actions Runner Application</code>이 설치된 서버.</li>\n<li>GitHub에서 호스팅하는 러너를 사용할 수도 있고, 직접 호스팅을 할 수도 있다.</li>\n<li>워크플로우가 실행될 인스턴스이다.</li>\n</ul>\n<h2 id=\"배포-자동화-가보자고\" style=\"position:relative;\"><a href=\"#%EB%B0%B0%ED%8F%AC-%EC%9E%90%EB%8F%99%ED%99%94-%EA%B0%80%EB%B3%B4%EC%9E%90%EA%B3%A0\" aria-label=\"배포 자동화 가보자고 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>배포 자동화 가보자고.</h2>\n<h3 id=\"access-token-생성\" style=\"position:relative;\"><a href=\"#access-token-%EC%83%9D%EC%84%B1\" aria-label=\"access token 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Access Token 생성</h3>\n<p>GitHub Actions를 사용하기 위해서는 <code class=\"language-text\">Access Token</code>이 필요하다. 레포지토리에 직접적으로 접근을 해야하기 때문!!</p>\n<p><a href=\"https://github.com/settings/tokens\">여기</a>에서 발급받을 수 있다.</p>\n<p><code class=\"language-text\">Generate New Token</code> 버튼을 클릭해서 Note의 부분에 토큰 이름을 적고, Select scopes의 Repo부분을 전부 체크해준다.\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 764px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 74%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAPCAYAAADkmO9VAAAACXBIWXMAAAsTAAALEwEAmpwYAAABzElEQVQ4y5VTi26jMBDk///wpOqqlkcSwDZgjI0Bz+1uIU2u4aSzNFo/5PXMeDerLleUVYWirCQyLrT3mRdo2hb/O7LBWhjT3dH1PUxHsTOwQ48lzliWKHF9iDFGhBAwz7MgBNpfV2R10yAvCuTEqCJ2HAtav1cab6XB71IJ3vKWopH9X58K5U1Da00P99DGCPiRrG0VJu+xbZtgWRbCirgmArBs3+D1us/TmeRWd3j/yPGRlxinAD9HTCHCk4S/EegMiVMliekFMvbrdqsx9IOwOxuvLh/7TwxZe1VdsJGhbCob7R8Q5lki25EeEp89klk7QpG5Xz4mMZYx74j0q3EOdHv7wfi1h02Ncq9BO45wzkkcj3lIBEgcfIJxK6zfzhlejce1bkWqmyZJMo5OarGhCmjMiNo43JSlucMwrXBhlcus6BkbsikmKuaBitpIgR6DLTBUY50UeUdngTxeHiT/lMtJMy4BS91SlCXqurknZZZKGbQ7psmfyjz8lIS86KnduEu89/fXOCFLbpUWaGpLlvSvsaU9ofdBfprbiLtEJBOjfrAYCPxJ3PNHnZ6xFA9jXOSHtTb3zYMhM2MfGYrOOTGrkw9Izzju/gHRW5DZ9xK+dwAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"newtoken\"\n        title=\"newtoken\"\n        src=\"/static/d3640a6bb6ba8c31a1c707210782afe3/f3c12/new_token.png\"\n        srcset=\"/static/d3640a6bb6ba8c31a1c707210782afe3/5a46d/new_token.png 300w,\n/static/d3640a6bb6ba8c31a1c707210782afe3/0a47e/new_token.png 600w,\n/static/d3640a6bb6ba8c31a1c707210782afe3/f3c12/new_token.png 764w\"\n        sizes=\"(max-width: 764px) 100vw, 764px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p><code class=\"language-text\">Generate Token</code> 버튼을 누르면 토큰이 생성된다! 그런데 토큰은 다음에 다시 확인할 수 없으니까 꼬옥..복사해서 어디 적어놔야한다..</p>\n<h3 id=\"access-token-할당\" style=\"position:relative;\"><a href=\"#access-token-%ED%95%A0%EB%8B%B9\" aria-label=\"access token 할당 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Access Token 할당</h3>\n<p>위에서 발행한 토큰을 레포지토리에 할당을 해주자.</p>\n<p>레포지토리의 설정에 들어가 <code class=\"language-text\">Secrets</code>탭에 있는 <code class=\"language-text\">New repository secret</code> 버튼을 클릭해서 Name에는 토큰 이름(위의 토큰 이름과 달라도 됨!), Value에는 위에서 발행한 토큰 값을 넣어주고 추가를 하면 끝!</p>\n<h3 id=\"workflow-생성\" style=\"position:relative;\"><a href=\"#workflow-%EC%83%9D%EC%84%B1\" aria-label=\"workflow 생성 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Workflow 생성</h3>\n<p>워크플로우를 실행시키기 위해서는 먼저 <code class=\"language-text\">.github/workflows</code> 밑에 <code class=\"language-text\">main.yml</code> 파일을 추가해준다.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\"><span class=\"token comment\"># GitHub Action의 workflow 이름</span>\n<span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> Gatsby Publish\n\n<span class=\"token comment\"># gh-pages라는 브랜치에 push를 할 때마다 jobs를 실행</span>\n<span class=\"token key atrule\">on</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">push</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">branches</span><span class=\"token punctuation\">:</span>\n      <span class=\"token punctuation\">-</span> gh<span class=\"token punctuation\">-</span>pages\n<span class=\"token key atrule\">jobs</span><span class=\"token punctuation\">:</span>\n  <span class=\"token key atrule\">build_gatsby</span><span class=\"token punctuation\">:</span>\n    <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> build\n    <span class=\"token comment\"># 실행 환경이 ubuntu-latest</span>\n    <span class=\"token key atrule\">runs-on</span><span class=\"token punctuation\">:</span> ubuntu<span class=\"token punctuation\">-</span>latest\n    <span class=\"token key atrule\">steps</span><span class=\"token punctuation\">:</span>\n      <span class=\"token comment\"># checkout을 해주는 액션 소스코드를 사용</span>\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> actions/checkout@v2\n\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> packages install🛸\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> yarn install\n\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> gatsby build🚀\n        <span class=\"token key atrule\">run</span><span class=\"token punctuation\">:</span> yarn build\n        <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n          <span class=\"token comment\"># GH_API_KEY에 secret을 생성할 때 설정한 이름으로 넣어야 한다</span>\n          <span class=\"token key atrule\">GH_API_KEY</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>secrets.TOKEN_KEY<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n\n      <span class=\"token punctuation\">-</span> <span class=\"token key atrule\">name</span><span class=\"token punctuation\">:</span> deploy🛰\n        <span class=\"token key atrule\">uses</span><span class=\"token punctuation\">:</span> maxheld83/ghpages@v0.2.1\n        <span class=\"token key atrule\">env</span><span class=\"token punctuation\">:</span>\n          <span class=\"token key atrule\">GITHUB_TOKEN</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>secrets.GITHUB_TOKEN<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token comment\"># 여기도 마찬가지! TOKEN_KEY 대신 자신이 설정한 이름을 넣어주면 된다</span>\n          <span class=\"token key atrule\">GH_PAT</span><span class=\"token punctuation\">:</span> $<span class=\"token punctuation\">{</span><span class=\"token punctuation\">{</span>secrets.TOKEN_KEY<span class=\"token punctuation\">}</span><span class=\"token punctuation\">}</span>\n          <span class=\"token key atrule\">BUILD_DIR</span><span class=\"token punctuation\">:</span> <span class=\"token string\">'public/'</span></code></pre></div>\n<p>위 코드를 작성한 뒤에 브랜치에 푸시를 해주면, repository의 Actions탭에 워크플로우가 추가된 것을 확인 할 수 있다!</p>\n<h3 id=\"동작확인\" style=\"position:relative;\"><a href=\"#%EB%8F%99%EC%9E%91%ED%99%95%EC%9D%B8\" aria-label=\"동작확인 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>동작확인</h3>\n<p>브랜치에 push를 하면, 바로 Github Action이 실행되는 것을 확인할 수 있다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 1095px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 24.666666666666664%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAFCAYAAABFA8wzAAAACXBIWXMAAAsTAAALEwEAmpwYAAAA5ElEQVQY03VQS07EMAztNTkC4gQchR0LJFZcAAmx5BRsZjp0hnzbpHXaJn04HgESn0gvlvPsZ7802kd0eoCfCl6PE/ZmhnMe+7aVWEoR/He2rWL7ypv7F4vL2x2u7jpc3Bxw/aCgXIDWGkpbhBCRc5amv3AW/c6bNRf0kTDEiRsLakmaF7g+IE6EZS2CtKz8fsbMfIij8J8YKXFMaH4YkJsSoT28oTspOD/A+h5xJBlEjJgyMpfOPGRkkcDLVL6KNr9tsGxZ+f8sTu8K2hgopcU6EYmLY094fHqG904WqJwxVv76AzsigNJ7lRmIAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"워크플로우체크\"\n        title=\"워크플로우체크\"\n        src=\"/static/89966c1ea00ff4ed6f717974bbf42d68/07a6a/workflow_check.png\"\n        srcset=\"/static/89966c1ea00ff4ed6f717974bbf42d68/5a46d/workflow_check.png 300w,\n/static/89966c1ea00ff4ed6f717974bbf42d68/0a47e/workflow_check.png 600w,\n/static/89966c1ea00ff4ed6f717974bbf42d68/07a6a/workflow_check.png 1095w\"\n        sizes=\"(max-width: 1095px) 100vw, 1095px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n요렇게!</p>\n<p>만약 저 일련의 과정을 실행하고, 배포까지 성공적으로 되었다면 이런 화면이 뜰 것이다.</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 765px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 71.33333333333334%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAOCAYAAAAvxDzwAAAACXBIWXMAAAsTAAALEwEAmpwYAAABtklEQVQ4y52TDU+CUBiF+St9WYqIChJoqX1ttfXvS62t78BqbaaGwE309L43aZZWM7azC2znueeeF5SL7i0uvRs8PTzh7t6F57Xheh4eHh/htdt46XYRhBGCIMSrP0AkBH67lL7wMYgCiEiQwYdPJp/WIAjQ6/Vw2mji5LSBZusMjWYLrbNzXFxe/SjlTbyh0+mg33+d2Y0THhwdo75/CDVvImdsIlswkc4VkSGl50iJKJkgKF/j8VhqNBrJZ9f1YNhb0IrWxGAgpeaxspHFalqbK6Xdf8a151JPgvoZIiR4QJvEY+CegJxKK27CqtSgl5wv5rVMbkZKOBQYhCHieISYkvE6HMYfCWlAummTHALWJZTXUrkq73mzBPyZcN6k+NhJh2xioOlsf4Iq9QPkKW1K1WcTJr1NK+mQgToBc5SSQaZThUHQLHXKsO/pJHBewmlgktCu7sLZ3oFlV7Ay1d/3Lv8E6hOgU9tDwapgPZ3FUkrF8rr6JeHCQJvS6aUyNMMmcFnCN7TCggknU2azQ0cuU0r+LvkdD2VxoOzQksbke2TTcirz/yNrhRJ1lpF/xzTkp6G8A3Y67gXtzqeKAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"완료\"\n        title=\"완료\"\n        src=\"/static/1eca08bfef287fd794889206f8c118c2/bbb77/complete.png\"\n        srcset=\"/static/1eca08bfef287fd794889206f8c118c2/5a46d/complete.png 300w,\n/static/1eca08bfef287fd794889206f8c118c2/0a47e/complete.png 600w,\n/static/1eca08bfef287fd794889206f8c118c2/bbb77/complete.png 765w\"\n        sizes=\"(max-width: 765px) 100vw, 765px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span>\n안-정의 초록불…</p>\n<p>블로그를 확인해보면, 매우매우 잘 포스팅이 된 것을 확인할 수 있다!\n<span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 681px; \"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 92%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAASCAYAAABb0P4QAAAACXBIWXMAAAsTAAALEwEAmpwYAAACKElEQVQ4y61UuZLaQBDluwybGRYbb+RNvMdv+EcIAKcEJmCryEkdbmKEuVlAEhLUCiEJcejieXpAICgCHztVT9090/PU03qaWDz+DslkEqnUe1xfpzjS6aO9vf2Mh4d7PD7e4+7uC25uPrG1JF9LM5v6mMGHTAZXVwkkEnHEms0GGo23AXHF8MYj5vs+giAAWc/zDojG5IdxND/0XTbvuh73eYWU+Ddju92e2MVyCW2m7yqkx9q28Ev4ie+lEkoM+Xwe2WwW5XIZhcI35HI5VCoVFItFqKp6kTT0OSGVapo2Op0uut0u6vU6JHGEbqeNulCDKIoc1WoViqIcNkdJQ58T+t4atjGmJaxWKziOC1G28DI0MZQW8IPLR47GJ4Ry7QeeCl+hNJ8x1XSoiorhiDDFYKhivdnwDfQRdpuPJOfghJoqo117hqm9suZuWAu2/y4bYg1PRHYnhwAeh8/hk0z+ALxCcl71OUaSBN0wobCvaNk29PkcC9ZPa7WGtSSs9nbv03wUbI5eHqPjOa7LcV4NxW6kSh57Pq+eLAnaIVHvERxl4zNZjNDv9yGxSgeDAdqtFl5Y3GKWJEOW1nu9HgRBwHQ6vdxDeiyZ0imBRDuZTDAejzlCn+ZlWeYx5ZEWyZ+ztmiaBl3Xee8PhKZp8k2UTAS0IfRpfjabnZCEcWgpz3GcIyGJmRbpTYZhwLIsXnX0YnBZjwn0V0Uvh/ACOQj7XPX/M4jrN3eaO6usckCmAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"성공\"\n        title=\"성공\"\n        src=\"/static/988e939347b1fd55bc1d5f94a442a1e3/8ce52/success.png\"\n        srcset=\"/static/988e939347b1fd55bc1d5f94a442a1e3/5a46d/success.png 300w,\n/static/988e939347b1fd55bc1d5f94a442a1e3/0a47e/success.png 600w,\n/static/988e939347b1fd55bc1d5f94a442a1e3/8ce52/success.png 681w\"\n        sizes=\"(max-width: 681px) 100vw, 681px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n        decoding=\"async\"\n      />\n    </span></p>\n<p>히히힉..! 이제 더이상 귀찮게 <code class=\"language-text\">npm run deploy</code>안해도 된다…! 히히힉..!</p>\n<hr>\n<p>아직 워크플로우를 백퍼센트 이해하지는 못했지만, 실제로 이렇게 돌려보니까 너무 편하고…짜릿해…! 다음에 혹시나 자동화해야할 일이 있다면 또 주저없이 GitHub Actions를 사용할 것 같다..! 물론 젠킨스도 꼭 사용해보는걸로 >_^</p>","frontmatter":{"title":"🪄GitHub Actions를 이용해서 CI/CD를 구축해보자!","date":"October 07, 2021"}}},"pageContext":{"slug":"/DevOps/GA/","previous":{"fields":{"slug":"/회고/BASENOTE-REF/"},"frontmatter":{"title":"✏️BASENOTE 프로젝트 회고 ver.2"}},"next":{"fields":{"slug":"/Algorithm/211010/"},"frontmatter":{"title":"부족한 금액 계산하기"}}}},
    "staticQueryHashes": ["2486386679","3128451518"]}